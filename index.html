<!DOCTYPE html>
<html>
    <head>
        <!-- Basic Page Needs
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="author" content="">

        <!-- Mobile Specific Metas
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- FONT
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

        <!-- CSS
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/skeleton.css">
        <link rel="stylesheet" href="css/ee374.css">

        <title>EE 374: Blockchain Foundations at Stanford</title>
    </head>
    <body><div class="container"><div class="row"><div class="column" style="margin-top: 20pt">
        Stanford EE374, Spring 2022
        <h1>Blockchain Foundations</h1>

        <p>
            Blockchains are a new field of computer science which combines
            cryptography, distributed systems, and security. In this course,
            we go deep in understanding the fundamentals:
            What are blockchains, how do they work, and why are they secure?
        </p>

        <h2>Basic Info</h2>
        <ul>
            <li>Wed/Fri 3:15-4:45pm</li>
            <li><strong>Location</strong>: 200-034</li>
            <li><strong>Instructors</strong>: Prof. <a href='https://tselab.stanford.edu/people/principal-investigator/david-tse'>David Tse</a>, Dr. <a href='https://dionyziz.com'>Dionysis Zindros</a></li>
            <li><strong>Teaching Assistants</strong>: <a href='https://sites.google.com/stanford.edu/kamilla-nazirkhanova'>Kamilla Nazirkhanova</a>, <a href='https://ssrivatsan97.github.io/ '>Srivatsan Sridhar</a></li>
            <li>
                <a href='https://canvas.stanford.edu/courses/155937'>Canvas</a>
                •
                <a href="https://piazza.com/class/l0fnr8i6xbr20a">Piazza</a>
            </li>
        </ul>

        <h2>Office hours</h2>
        <ul>
            <li>David Tse: By appointment</li>
            <li>Dionysis Zindros: Wed 5-6pm &amp; Thu 11am-noon, Packard 106</li>
            <li>Kamilla Nazirkhanova: Tue 10-11am, Packard 106</li>
            <li>Srivatsan Sridhar: Thu 1-2pm, Packard 106</li>
        </ul>

        <h2>Lecture Notes</h2>
        <ol>
            <li><a href="lec_notes/lec1-2.pdf">Lectures 1-2</a></li>
            <li><a href="lec_notes/lec3.pdf">Lecture 3</a></li>
            <li><a href="lec_notes/lec4.pdf">Lecture 4</a></li>
            <li><a href="lec_notes/lec5.pdf">Lecture 5</a></li>
            <li><a href="lec_notes/lec6.pdf">Lecture 6</a></li>
            <li><a href="lec_notes/lec7.pdf">Lecture 7</a></li>
            <li><a href="lec_notes/lec8.pdf">Lecture 8</a></li>
        </ol>

        <h2>Problem Sets</h2>
        <ol>
            <li><a href="psets/pset1.pdf">Problem set 1</a></li>
            <li><a href="psets/pset2.pdf">Problem set 2</a></li>
            <li><a href="psets/pset3.pdf">Problem set 3</a></li>
            <li><a href="psets/pset4.pdf">Problem set 4</a></li>
        </ol>

        <h2>Overview</h2>
        <p>
            This graduate-level course teaches you about blockchain foundations. The course focuses on the first principles and foundations behind blockchains with the aim of understanding how and why blockchain technology works and is secure. We do not focus on Bitcoin or Ethereum engineering peculiarities, but we explore the general concepts of the blockchain field. However, the course is heavy on both engineering (writing code) and theory.
        </p>

        <p>
            The course focuses on three questions:

            <ul>
                <li>What are blockchains?</li>
                <li>How do they work?</li>
                <li>Why are they secure?</li>
            </ul>
        </p>

        <h2>Spring 2022 Schedule</h2>

        <p>
            The topics of the course include proof-of-work (in static and variable difficulty), proof-of-stake, transactions in the UTXO and accounts model, authenticated data structures such as Merkle Trees, and simple payment verification. A central topic of the course is understanding why blockchains are secure. We treat the question in theoretical depth using the cryptographic backbone model.
        </p>

        <p>
            The full syllabus is as follows (we may still make small revisions).
        </p>

        <h3>Lecture 1: Money</h3>
        <ul>
            <li>Administrivia</li>
            <li>Money as a social construct</li>
            <li>The network model</li>
            <li>The non-eclipsing assumption</li>
            <li>The gossip protocol</li>
        </ul>

        <h3>Lecture 2: The adversary</h3>
        <ul>
            <li>The adversary A</li>
            <li>The security parameter κ</li>
            <li>The honest protocol Π</li>
            <li>The adversarial model</li>
            <li>Probabilistic polynomial-time adversaries</li>
            <li>Negligible functions</li>
            <li>Game-based security</li>
            <li>Security proofs by computation reduction</li>
            <li>Proofs by contradiction and forward proofs</li>
        </ul>

        <h3>Lecture 3: Primitives</h3>
        <ul>
            <li>The hash function: H</li>
            <li>Preimage resistance, second preimage resistance, collision resistance</li>
            <li>Collision resistance implies preimage resistance</li>
            <li>Preimage resistance implies second preimage resistance</li>
            <li>Public/private keys</li>
            <li>Signature schemes</li>
            <li>Signature correctness</li>
            <li>Existential unforgeability</li>
            <li>Ledgers</li>
        </ul>

        <h3>Lecture 4: Transactions</h3>
        <ul>
            <li>Transactions</li>
            <li>Inputs and outputs</li>
            <li>The transaction graph</li>
            <li>Change</li>
            <li>Multiple inputs</li>
            <li>Multiple outputs</li>
            <li>The UTXO model</li>
            <li>The law of conservation</li>
            <li>Verifying a transaction</li>
        </ul>

        <h3>Lecture 5: Blocks</h3>
        <ul>
            <li>Views in disagreement</li>
            <li>Double spending</li>
            <li>The network delay Δ</li>
            <li>Simple ideas don't work!</li>
            <li>Rare events</li>
            <li>Blocks</li>
            <li>Proof-of-work</li>
            <li>The mining target T</li>
            <li>The proof-of-work equation</li>
            <li>The mining algorithm</li>
            <li>Block freshness</li>
            <li>The genesis block G</li>
            <li>Chains</li>
        </ul>

        <h3>Lecture 6: Chains</h3>
        <ul>
            <li>Hash chains</li>
            <li>The number n of parties</li>
            <li>The number t of adversarial parties</li>
            <li>The hashing power q</li>
            <li>Rare events are irregular</li>
            <li>Convergence opportunities and periods of silence</li>
            <li>The honest majority assumption</li>
            <li>The longest chain rule</li>
            <li>Coinbase</li>
            <li>Fees</li>
            <li>Mempools</li>
        </ul>

        <h3>Lecture 7: Chain Virtues</h3>
        <ul>
            <li>Temporary forks</li>
            <li>Convergence</li>
            <li>The Nakamoto race</li>
            <li>Chain Growth, Common Prefix, Chain Quality</li>
            <li>Censorship</li>
            <li>Majority attacks</li>
        </ul>

        <h3>Lecture 8: Attacks</h3>
        <ul>
            <li>Healing</li>
            <li>Macroeconomic supply</li>
            <li>Selfish mining</li>
            <li>Mining pools</li>
        </ul>

        <h3>Week 5: Wallets and Accounts</h3>
        <ul>
            <li>Online and offline wallets</li>
            <li>Hardware wallets</li>
            <li>The account model</li>
            <li>Balances</li>
            <li>Nonces</li>
        </ul>

        <h3>Week 6: Light Clients</h3>
        <ul>
            <li><span style='color: red'>Midterm</span></li>
            <li>The Random Oracle model</li>
            <li>Merkle Trees</li>
            <li>SPV</li>
            <li>Sparse Merkle Trees</li>
        </ul>

        <h3>Week 7: Consensus in Earnest</h3>
        <ul>
            <li>The Backbone model</li>
            <li>The rushing adversary model</li>
            <li>The synchronous network model</li>
            <li>Chain Growth, Common Prefix, Chain Quality</li>
            <li>Successful and uniquely successful rounds</li>
            <li>Chernoff bounds revision</li>
        </ul>

        <h3>Week 8: Blockchains are Secure; Proof-of-Stake</h3>
        <ul>
            <li>Proof of Chain Growth</li>
            <li>Proof of Common Prefix</li>
            <li>Proof of Chain Quality</li>
            <li>Proof of Safety and Liveness</li>
            <li>Proof-of-Stake</li>
            <li>Proof-of-Work vs Proof-of-Stake</li>
            <li>Proof-of-Stake longest chain protocols: dynamic availability</li>
        </ul>

        <h3>Week 9: Proof of Stake</h3>
        <ul>
            <li>Proof-of-Stake BFT protocols: Fast confirmation, finality, accountability</li>
            <li>The Availability-Finality and the Availability-Accountability Dilemmas</li>
        </ul>

        <h3>Week 10: Ethereum 2.0</h3>
        <ul>
            <li>Ethereum 2.0: An attempted resolution of the dilemmas</li>
            <li>Provably secure finality and accountability gadgets</li>
        </ul>

        <h2>Who is this course for?</h2>

        <p>
            This is a new course for graduate-level students in computer science, electrical engineering, or related fields or as an advanced elective course for interested undergraduate students. The prerequisites for the course are a professional knowledge of at least one programming language (for implementing the node), a basic knowledge of networking (TCP/IP), basic understanding of probability theory (probabilities, expectations, distributions), discrete mathematics (graphs, proof techniques). A very basic understanding of cryptography (hashes, signatures, proof techniques) is helpful but not required.
        </p>

        <p>
            <strong>Prerequisites</strong>

            <ul>
                <li>CS106A, CS106B, or CS106X, or relevant programming experience</li>
                <li>CS103, or CS103B or related course on discrete math</li>
                <li>CS109, MATH151, STATS116, or EE178 or related course on probability</li>
            </ul>
        </p>

        <h2>Problem Sets</h2>

        <p>
            The problem sets are the most important part of this course.
            The problem sets are about implementation.
            They involve building our own blockchain, Marabu.
            It is a proof-of-work UTXO blockchain designed for educational purposes to be simple to implement and debug. As a student, you will implement your own Marabu full node from scratch. Your node must connect to the nodes of other students and maintain a common blockchain with them. You will implement the protocol by following through the problem sets. The protocol is a simplified, educational protocol easy to debug and implement designed especially for this course. Even though it is simple, it implements a full blockchain which follows the same principles as a full blockchain such as Bitcoin and Ethereum, albeit with limited features (it allows only for simple payments and is not very efficient). You can use whatever programming language you know well for your implementation.
            We recommend using TypeScript.
            We have seen successful implementations in Python, TypeScript and Go. The problem sets guide you through implementing your node in a step-by-step fashion, so each problem set builds on top of the previous one to augment your node slowly adding new features until it is complete.
            Students can collaborate to solve all problem sets in groups of up to 3 students. Only one submission is required per group.
        </p>

        <h2>Grading</h2>

        The grade for the course will be determined according to the following breakdown:

        <ul>
            <li><strong>Programming Exercises</strong>: 40%</li>
            <li><strong>Midterm</strong>: 20%</li>
            <li><strong>Final</strong>: 35%</li>
            <li><strong>Scribe</strong>: 5%</li>
        </ul>

        <h2>Bibliography</h2>

        <p>TBD</p>

        <h2>Comparison to Other Courses</h2>

        <p>This course is a good follow-up course on CS 251. CS 251 studies blockchains very broadly and covers a lot of material. It talks about consensus, smart contracts, Solidity, decentralized finance, zero-knowledge, BFT, and more. It also talks about Bitcoin-specific and Ethereum-specific details. In this course, we focus on the foundations of blockchains and speak only about the very basics concepts, in particular transactions and consensus, but in more detail and depth. We don't speak about engineering for Bitcoin and Ethereum specifically. On the engineering side of things, we implement consensus and transactions, and so these are explored in depth. On the theory side of things, we devote a couple weeks on proving the security of blockchains mathematically.</p>

        <p>
            CS251 is not a prerequisite, but if a student has taken CS 251, they will find this course easier to follow.
        </p>

        <p>
            If you have taken EE 374 any previous year, <strong>this is a completely new course</strong>,
            with a different syllabus and different psets.
        </p>
    </div></div></div></body>
</html>
